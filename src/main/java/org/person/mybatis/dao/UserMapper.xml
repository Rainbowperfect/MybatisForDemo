<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.person.mybatis.model.User">

    <!-- addUser -->
    <insert id="addUser" parameterType="org.person.mybatis.model.User">
        INSERT INTO user(username,userage)VALUES(#{username},#{userage})
    </insert>

    <!--getAllUser-->
    <select id="getAllUser" resultType="org.person.mybatis.model.User">
        SELECT  * FROM  user
    </select>
<!--入参类型-->
    <!--getUser-->
    <select id="getUser"  resultType="org.person.mybatis.model.User"  parameterType="int">
        SELECT  *  FROM  user  WHERE userid=#{userid};
    </select>

    <!--添加数据，获取主键-->
    <!--add-->
    <insert id="add" parameterType="org.person.mybatis.model.User" >
      <selectKey keyColumn="userid" keyProperty="userid" resultType="string" order="BEFORE">
          SELECT LAST_INSERT_ID();
      </selectKey>
        INSERT  INTO user(username,userage) VALUES (#{username},#{userage})
    </insert>

    <!--获取自增主键-->
    <insert id="addAtuoKey" parameterType="org.person.mybatis.model.User"  useGeneratedKeys="true"  keyColumn="userid">
        INSERT  INTO user(username,userage) VALUES (#{username},#{userage})
    </insert>

    <!--获取UUID-->
    <insert id="addUUId" parameterType="User">
        <selectKey keyColumn="userid" keyProperty="userid" resultType="string" order="BEFORE">
            select uuid()
        </selectKey>
        INSERT INTO user(userid,username,userage) VALUES(#{userid},#{username},#{userage})
    </insert>

    <!--修改数据-->
    <update id="modify" parameterType="User">
        UPDATE user SET username=#{username},userage=#{userage} WHERE userid=#{userid}
    </update>

    <!--删除数据-->
    <delete id="deleteUser" parameterType="string" >
       DELETE FROM user WHERE userid=#{userid};
    </delete>
</mapper>
